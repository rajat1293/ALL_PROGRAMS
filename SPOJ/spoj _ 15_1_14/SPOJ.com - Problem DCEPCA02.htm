<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fb="http://www.facebook.com/2008/fbml">
<head>

<title>SPOJ.com - Problem DCEPCA02</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" id="metatag">
<META NAME="Keywords" CONTENT="programming, language, algorithm, spoj, contest, contester, Java, C#, Pascal, C, C++, python, ruby, caml, ocaml, perl, haskell, lisp, prolog, fortran, assembler, asembler, functional, online, judge, problem, problemset, ACM">

<link href="//www.spoj.com/gfx/favicon.png" rel="shortcut icon" type="image/x-icon">
<link href="/rss/" rel="alternate" type="application/rss+xml" title="RSS Feed">
<link href="//www.spoj.com/themes/common.css" rel="stylesheet" type="text/css" id="theme">
<link href="/style.css" rel="stylesheet" type="text/css" id="theme">
<link href="//www.spoj.com/themes/tooltips.css" rel="stylesheet" type="text/css" id="theme">
<script type='text/javascript' src='//www.spoj.com/gfx/jquery.js'></script>
<script type="text/javascript" src="//www.spoj.com/gfx/jquery.timers.js"></script>
<script type="text/javascript" src="//www.spoj.com/gfx/jquery.cookie.js"></script> 
<!--
<meta property="og:description" content="SPOJ (Sphere Online Judge) is an online judge system with over 100,000 registered users and over 10000 problems. The solution to problems can be submitted in over 40 languages including C, C++, Java, Python, C#, Go, Haskell, Ocaml, and F#. SPOJ has a rapidly growing problem set/tasks available for practice 24 hours/day, including many original tasks prepared by the community of expert problem setters associated with the project."/>
<meta name="description" content="SPOJ (Sphere Online Judge) is an online judge system with over 100,000 registered users and over 10000 problems. The solution to problems can be submitted in over 40 languages including C, C++, Java, Python, C#, Go, Haskell, Ocaml, and F#. SPOJ has a rapidly growing problem set/tasks available for practice 24 hours/day, including many original tasks prepared by the community of expert problem setters associated with the project."/>
-->
<style type="text/css">
<!--
.maintable {width: 1055;} 
-->
</style>
<script type="text/javascript" language="javascript">
<!--
function UnCryptMailto(s) {
	var n=0;
	var r="";
	for(var i=0;i<s.length;i++) {		
		n=s.charCodeAt(i); 
		if (n>=8364) {n = 128;}
		r += String.fromCharCode(n+(2));	
	}
	return r;
}
function linkTo_UnCryptMailto(s)	{
	location.href=UnCryptMailto(s);
}
// -->
</script>

<script type="text/javascript">
function recordOutboundLink(link, category, action) {
  try {
    var pageTracker=_gat._getTracker("UA-XXXXX-X");
    pageTracker._trackEvent(category, action);
    setTimeout('document.location = "' + link.href + '"', 100)
  }catch(err){}
}
</script>

    <script type="text/javascript" src="/gfx/SyntaxHighlighter/scripts/shCore.js"></script>
	<script type="text/javascript" src="/gfx/SyntaxHighlighter/scripts/shBrushCpp.js"></script>
	<script type="text/javascript" src="/gfx/SyntaxHighlighter/scripts/shBrushCSharp.js"></script>
    <script type="text/javascript" src="/gfx/SyntaxHighlighter/scripts/shBrushJava.js"></script>
    <script type="text/javascript" src="/gfx/SyntaxHighlighter/scripts/shBrushPhp.js"></script>
    <script type="text/javascript" src="/gfx/SyntaxHighlighter/scripts/shBrushPython.js"></script>
	<link type="text/css" rel="stylesheet" href="/gfx/SyntaxHighlighter/styles/shCore.css"/>
	<link type="text/css" rel="stylesheet" href="/gfx/SyntaxHighlighter/styles/shThemeDefault.css"/>
	
	<script type="text/javascript">
		SyntaxHighlighter.all();
	</script>
	

		<meta property="og:title" content="SPOJ.com - Problem DCEPCA02"/>
    	<meta property="fb:app_id"      content="321676846207" />
	<meta property="og:type" content="spoj-pl:problem"/>
	<meta property="og:url" content="http://www.spoj.com/problems/DCEPCA02/"/>
	<meta property="og:image" content="http://www.spoj.com/gfx/logo-cr.png"/>
	<meta property="og:description" content="Ants are known to move in groups and in perfect order. However, in our problem the ants can move only in directions Left(L), Right(R), Up(U), Down(D). The place is a rectangular grid. There lives 2 types of ants : Type A and Type B. Each ant type has its own queen ant which defines the 2 directions ..."/>
<meta name="description" content="Ants are known to move in groups and in perfect order. However, in our problem the ants can move only in directions Left(L), Right(R), Up(U), Down(D). The place is a rectangular grid. There lives 2 types of ants : Type A and Type B. Each ant type has its own queen ant which defines the 2 directions ..."/>
		<meta property="og:site_name" content="spoj.com"/>

</head>
<body>
<center>



<table cellpadding="10" cellspacing="0" class="maintable" id="maintable">
<tr>
    <td colspan="2" class="header">
        <table width="100%" border="0" cellpadding="0" cellspacing="0">
        <tr>
		<td class="headerleft"/>
		<td class="headercenter">
<h1><img alt="Sphere Online Judge" title="Sphere Online Judge" src="/gfx/sphere-spoj-small.png" border=0 style="margin-top:-4px;margin-bottom:-4px"></h1>
		</td>
		<td class="headerright"/>
	</tr>
	</table>
    </td>
</tr>
<tr><td class="menu" width="92" valign="top">


<div class="menucmd"><a href="/logout"><b style="font-weight:normal">Log Out</b></a><br><b style="font-weight:normal; margin-right:-100px">rajat1293</b><br><hr><a href="/myaccount">my account</a><br><a href="/tutorials">tutorials</a><br><br><a href="/status">status</a><br><a href="/submit">submit</a><br><a href="/problems/classical/">problems</a><br><a href="/search">search</a><br><br><a href="/">news</a><br><a href="/contests">contests</a><br><a href="/ranks/">ranks</a><br><br><a href="/forum">forum</a><br><a href="/comments">comments</a><br><a href="/tools">tools</a><br><a href="/clusters">clusters</a><br><a href="/credits">credits</a><br><hr></div><a href="/problems/classical/"></a><br>


	<div class="time">
Server time:</div>
<div class="time">
2014-01-15
<br>
<b>15 : 19 : 25</b>
</div>

</td><td style="width: 748px; padding:0px;" valign="top" class="content0">
        <table width="100%" cellpadding="0" cellspacing="0">
        <tr>
                <td style="padding:0px;" colspan="2"><center>
                                
                </center></td>
        </tr>
        <tr>
                <td class="content" width="99%" style="padding: 10px"><script type='text/javascript' src='/gfx/jquery.bgiframe.js'></script>
<script type='text/javascript' src='/gfx/jquery.tooltip.js'></script>
<script type='text/javascript' src='/gfx/jquery.cxhelp.js'></script>



 <!-- wykorzystywane w pcontent.html (by wiele) -->

<table class="problems" width="100%">
<tr class="navigation">
<td><a href="/submit/DCEPCA02/">Submit</a></td>
<td><a href="/status/DCEPCA02,rajat1293/">My submissions</a></td>
<td><a href="/status/DCEPCA02/">All submissions</a></td>
<td><a href="/ranks/DCEPCA02/">Best solutions</a></td>
<td><a href="/problems/DCEPCA02.ps">PS</a></td>
<td><a href="/problems/DCEPCA02.pdf">PDF</a></td>
<td><a href="/problems/classical/">Back to list</a></td>
</tr>
</table>

<div class="prob" style="position: relative">

<!-- google_ad_section_start -->
<!-- plik z pomoca kontekstowa (cxhelp_*) dziedziczony po pindex.html -->

<div style="position: absolute;">
<div class="fb-like" data-href="http://www.spoj.com/problems/DCEPCA02/" data-send="true" data-layout="box_count" data-width="70" data-show-faces="false"></div>
</div>
<div style="position: absolute; right: 0px">
<!-- Place this tag where you want the +1 button to render -->
<g:plusone size="tall"></g:plusone>
<!-- Place this render call where appropriate -->

<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>

</div>

<script type="text/javascript" src="/gfx/jscripts/tiny_mce/plugins/asciimath/js/ASCIIMathMLwFallback.js"></script>
<!--script type="text/javascript" src="/gfx/jscripts/tiny_mce/plugins/asciisvg/js/ASCIIsvgPI.js"></script-->
<script type="text/javascript">
<!--
var AScgiloc = 'http://www.imathas.com/imathas/filter/graph/svgimg.php';
var AMTcgiloc = "/files/gif/";
-->
</script>

<table width="100%" style="margin-top:10px">
<tr>
	<td>
		<h2>SPOJ Problem Set (classical)</h2>
				<h1>12887. Ant Colony Optimization</h1>
		<h2>Problem code: DCEPCA02</h2>
	</td>
	</tr>
</table>

<br/>
<script type="text/javascript"><!--
google_ad_client = "ca-pub-4453360425583535";
/* Spoj - baner gÃ³rny */
google_ad_slot = "5796055248";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script><a rel="nofollow" href="https://www.digitalocean.com/?refcode=c59674ea4847" class="freelancer_728" style="display: none;"><img src="/gfx/digitalocean-horizontal-eps.png" width=410 height=109 border=0></a>

<p align="justify">
<p>Ants are known to move in groups and in perfect order. However, in our problem the ants can move only in directions Left(L), Right(R), Up(U), Down(D). The place is a rectangular grid. There lives 2 types of ants : Type A and Type B. Each ant type has its own queen ant which defines the 2 directions at which their type of ants can reproduce ants.</p>
<p>A starting cell is given where one ant of each type is standing (A and B). When the process begins, each type of ant produces 4 ants, 2 ants of their type in the 2 directions (1 ant per direction) specified by their queen ant and 2 ants of the other type in the remaining 2 directions. So if queen ant of type A says LR and queen ant of type B says UD then A ant produces new type A ants at left cell and right cell and new type B ants at up cell and down cell of the original cell. Similarly, type B ant produces 2 new type A ants in left and right cell and 2 new type B ants in up cell and down cell. The ants produced again reproduce more ants at their adjacent cells according to the same directions given by the their queen ant.</p>
<p>Reproducing ants at adjacent cells take 1 time unit. You need to find the sum of the minimum time in which type A ant reaches the endpoint and the minimum time in which type B ant reaches the endpoint. If any type of ant cannot reach endpoint, the answer is -1.</p>
<h3>Constraints</h3>
<p>T &lt;= 10<br /> 0 &lt; M &lt;= 500<br /> 0 &lt; N &lt;= 500<br /> 0 &lt;= SX, EX &lt; M<br /> 0 &lt;= SY, EY &lt; N</p>
<h3>Input</h3>
<p>T denotes the number of testcases.<br /> Each testcase consists of 4 lines.<br /> First line gives M , N which is the size of grid <br /> Second line gives starting cell cordinates. SX , SY <br /> Third line gives endpoint cell cordinates&nbsp; EX , EY<br /> Fourth line gives a permutation of LRUD denoting the directions provided by queen ant to move. The first two characters of the string gives the directions of queen ant type A and last two characters gives direction of queen ant type B.</p>
<h3>Output</h3>
<p>Print T lines each giving the minimum time in which ant of both types can reach the ending cell for each testcase ie. Find&nbsp; sum of (minimum time at which A type ant reaches endpoint + minimum time at which B type ant reaches endpoint)</p>
<h3>Example</h3>
<pre><strong>Input:</strong><br />3<br />5 5<br />1 1 <br />3 4<br />LRUD<br />2 4<br />0 2<br />0 3<br />RULD<br />2 4<br />0 2<br />1 1 <br />URDL<br /><strong><br />Output:</strong><br />10<br />-1<br />6<br /><br /><strong></strong><p><strong>Explanation:<br /><br /></strong>TestCase 1 : Minimum time at which A type ant reaches end point = 5 <br />Minimum time at which B type ant reaches endpoint = 5<br />TestCase 2 : B cannot reach endpoint. Hence answer is -1.<br />TestCase 3 : Minimum time at which A type ant reaches end point = 4<br />Minimum time at which B type ant reaches endpoint = 2</p></pre>



<hr>
<table border=0 cellspacing=0 cellpadding=0 align=left style="margin-bottom:10px" class="probleminfo">
<tr><td>Added by:</td><td><a href="/users/dce_coders">dce coders</a></td></tr>
<tr><td>Date:</td><td>2012-12-03</td></tr>
<tr><td>Time limit:</td><td>3s
</td></tr>
<tr><td>Source limit:</td><td>50000B</td></tr>
<tr><td>Memory limit:</td><td>256MB</td></tr>
	<tr>
		<td>Cluster:</td>
		<td>
							<a href="/clusters/" target="_blank">Pyramid (Intel Pentium III 733 MHz)</a>
					
		</td>
	</tr>
<tr><td>Languages:</td><td>C C++ 4.3.2 C++ 4.0.0-8 JAVA </td></tr>
<tr><td>Resource:</td><td>Own Problem</td></tr>	
</table><!-- google_ad_section_end -->

<div id="ccontent">
<!-- google_ad_section_start -->

<hr style="clear:both;"/>
<a href="#" onclick="toggleComments(); return false;"><span id="comments_sh">hide</span> comments</a><br/>

<a id="comments"></a>
<table id="comments_table" width="100%">
		<tr>
		<td colspan="2">
				</td>
	</tr>
	<tr>
		<td colspan="2">
				</td>
	</tr>
	
	<script language="JavaScript">
	<!--
	$(document).ready(function(){
        $('.pager_link').bind('click', function(me){
                var href=$(me.currentTarget).attr('href');
		$('#ccontent').animate({opacity: 0.5},1);
                $.ajax({
                        type: "GET",
                        url: href+",ajax=1",
                        contentType: "application/x-www-form-urlencoded;charset=ISO-8859-2",
                        success: function(data){
                                $('#ccontent').html(data);
				$('#ccontent').animate({opacity: 1.0},1);
                        },
                        error: function(err){
                                alert('error');
                        }
                });
                return false;
        });
	});
	-->
	</script>
	

			
	<tr>
		<td colspan="2" class="comm comm_odd ">
		<font >
		2013-04-26 02:14:20 <b><a href="/users/azneye">Andy Y.F. Huang</a></b> 
		</font>
								<br/>
				Moving UP from (x,y) is (x,y-1) and moving DOWN from (x,y) is (x,y+1).<br/>I got AC assuming this.
						</td>
	</tr>
				
	<tr>
		<td colspan="2" class="comm comm_even ">
		<font >
		2013-01-02 15:28:43 <b><a href="/users/tjandra">(Tjandra Satria Gunawan)(&#26366;&#27589;&#26118;)</a></b> 
		</font>
								<br/>
				Can anyone explain why "TestCase 2: B cannot reach endpoint. Hence answer is -1"? 
						</td>
	</tr>
				
	<tr>
		<td colspan="2" class="comm comm_odd ">
		<font >
		2012-12-11 15:53:56 <b><a href="/users/poor_yorik">Ehor Nechiporenko</a></b> 
		</font>
								<br/>
				@Aman, the same as in my algo. <br/>Seems we misunderstood the condition. But which is correct? I don't know(
						</td>
	</tr>
				
	<tr>
		<td colspan="2" class="comm comm_even ">
		<font >
		2012-12-11 15:05:37 <b><a href="/users/aman_gupta_052">Aman Gupta</a></b> 
		</font>
								<br/>
				Ok, someone please tell me how the answer for Minimum point at which type A ant can reach the endpoint is 4, isn't it 2?  0,2 (A) -&gt; 0,1 (B) -&gt; 1,1(A) , or have I understood the question wrong
						</td>
	</tr>
				
	<tr>
		<td colspan="2" class="comm comm_odd ">
		<font >
		2012-12-09 20:56:16 <b><a href="/users/poor_yorik">Ehor Nechiporenko</a></b> 
		</font>
								<br/>
				I misunderstood the problem. Could you  clarify it. On my algo, for second test:<br/>1) Ant A produes Ant A to Right direction to point (1, 2)<br/>2) Ant A from point (1,2) produces Ant of type A in UP direction to point (1,3)<br/>3) Ant A from point (1,3) produces Ant of type B in LEFT direction to point (0, 3)<br/>Could you please tell, where am I wrong?
						</td>
	</tr>
			
</table>


<script language="javascript" type="text/javascript">
<!--
function getCookieVal (offset) {
        var endstr = document.cookie.indexOf (";", offset);
        if (endstr == -1) { 
                endstr = document.cookie.length; 
        }
        return unescape(document.cookie.substring(offset, endstr));
}

function GetCookie (name) {
  var arg = name + "=";
  var alen = arg.length;
  var clen = document.cookie.length;
  var i = 0;
  while (i < clen) {
    var j = i + alen;
    if (document.cookie.substring(i, j) == arg) {
      return getCookieVal (j);
      }
    i = document.cookie.indexOf(" ", i) + 1;
    if (i == 0) break; 
    }
  return null;
}

function toggleComments() {
        var a = document.getElementById('comments_table');
        var d = a.style.display;
        if( d == "" || d == "block" ){
                d = "none";
                document.getElementById('comments_sh').innerHTML = 'show';
        } else {
                d = "block";
                document.getElementById('comments_sh').innerHTML = 'hide';
        }
        a.style.display = d;
        document.cookie="comments_table="+d+"; path=/;";
}

if( GetCookie('comments_table') == 'none' ){
        document.getElementById('comments_sh').innerHTML = 'show';
        document.getElementById('comments_table').style.display = 'hide';
}

-->
</script>


<!-- google_ad_section_end -->
</div>
<table width="100%">
                <tr>
                <td colspan="2" height="20px"></td>
        </tr>
        <form method="post" action="/comment/DCEPCA02/add/">
        <tr> <td style="padding-left:5px;" colspan="2">Leave a Comment</td> </tr>
        <tr>
                <td valign="top"></td>
                <td><textarea name="content" cols="40" rows="3"></textarea></td>
        </tr>
                <tr>
                <td colspan="2" style="padding-left: 5px;">
                        <input type="submit" value="Publish"/>
                        <input type="hidden" name="pcode" value="DCEPCA02"/>
                </td>
        </tr>
<tr>
<td colspan="2" class="smallgrey" style="padding-left:5px;">
Notes:
<br>1. Don't post any source code here.
<br>2. Please be careful, leave short comments only. Don't spam here.
<br>3. For more discussion (hints, ideas, solutions) please visit our <a href="/forum">forum</a>.
<br>4. Authors of the problems are allowed to delete the post and use html code here (e.g. to provide some useful links).
</td>
</tr>
        </form>
        </table>

</div>
        </td>
<tr>
        <td style="padding:0px" colspan="2"><center>
                
</center></td>
</tr>
</table>
</td>


<td width="200" class="ad-r__"><div><script type="text/javascript"><!--
google_ad_client = "ca-pub-4453360425583535";
/* Spoj - wiezowiec */
google_ad_slot = "2703472077";
google_ad_width = 160;
google_ad_height = 600;
//-->
</script>
<script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script><div>
<style>
.ad-r__{
        vertical-align: top;
}
.ad-r__ > div.fixed{
        top: 10px;
        position: fixed;
}
</style>
<script type="text/javascript">
$(function(){
        $(window).scroll(function() {
                if($(this).scrollTop() > 100) {
                        $(".ad-r__>div").addClass('fixed');
                } else {
                        $(".ad-r__>div").removeClass('fixed');
                }
        });
	if ($('.ad-r__>div').height() == 0){
		//console.log('adblocker');
		_gaq.push(['_trackEvent', 'ads', 'adblock']);
		$(".freelancer_728").show();
		//$(".ad-r__").append('<script type="text/javascript"><!--amazon_ad_tag = "httpsphereres-20"; amazon_ad_width = "160"; amazon_ad_height = "600"; amazon_ad_border = "hide"; amazon_ad_discount = "remove"; amazon_color_background = "EEEEEE";//--><'+'/script><script type="text/javascript" src="http://ir-na.amazon-adsystem.com/s/ads.js"><'+'/script>');
	}
});
</script>
</td>


</tr>

<tr>
<td colspan="2" class="footer">
<div class="a-footer"></div>
<script language="javascript" type="text/javascript">
<!--
function swapSheet(sheet, caller) {
    document.getElementById('theme').href=sheet;
    document.cookie="css_0="+sheet+"; path=/;";
    caller.href="#bottom";
}

function setWidth(w, caller) {
    document.getElementById('maintable').style.width=w;
    document.cookie="res="+w+"; path=/;";
    caller.href="#bottom";
}



//-->

</script>
        <table width="100%">
    <tr>
	<td align="left" width=10% class="cfooter">
	<a href="/info/">About SPOJ</a>
	</td>
	<td align="center" class="cfooter">
	    width:
	    <a href="/?rsl=855px"  onClick="setWidth('855px', this)">900</a>
	    <a href="/?rsl=980px"  onClick="setWidth('980px', this)">1024</a>
	    <a href="/?rsl=100%" onClick="setWidth('100%', this)">Full</a>
	    &nbsp;&nbsp;
	    theme:
	    <a href="/?css=/themes/skin1.css" onClick="swapSheet('/themes/skin1.css', this)">olive</a>
	    <a href="/?css=/themes/skin2.css" onClick="swapSheet('/themes/skin2.css', this)">banana</a>
	    <a href="/?css=/themes/skin3.css" onClick="swapSheet('/themes/skin3.css', this)">plum</a>
	    <a href="/?css=/themes/hspl.css" onClick="swapSheet('/themes/hspl.css', this)">hspl</a>
	</td>
		<td align="center" class="cfooter">
		 <span title="The discussion channel of the Sphere Online Judge community.">
		 <a href="irc://irc.freenode.net/spoj"><b>#spoj</b> at freenode</a>
		 </span>
	</td>
		<td width=10% class="cfooter" style="text-align:right">
		<a href="/rss/" ><img src="/gfx/rss10x10.gif" border=0>&nbsp;RSS</a>&nbsp;
	</div>
	</td>
    </tr>
    </table>
    </tr></table>
</center>
<div class="a-header"></div>

<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/pl_PL/all.js#xfbml=1&appId=321676846207";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
<!--<div id="fb-root"></div>
<script src="//connect.facebook.net/en_US/all.js#xfbml=1"></script>-->


<div style="font-size:10px; margin-top:4px; color: rgb(85,80,95); text-align: center">
	&copy; Spoj.com. All Rights Reserved. Spoj uses <a href="http://sphere-engine.com" style="color:black">Sphere Engine</a>&trade; &copy; by <a href="http://sphere-research.com" style="color:black">Sphere Research Labs</a>.
</div>

<script type="text/javascript">
  var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-10507872-1']);
    _gaq.push(['_setAllowLinker', true]);
      _gaq.push(['_trackPageview']);
        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
                      })();
                      </script>
                      
</body>
</html>